#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int main(void) {
  char correctWord[] = "apple";
  int remainCount = 7;
  int wordLength = (sizeof(correctWord) / sizeof(char)) - 1;
  char usedChar[8];
  char correctFlag[wordLength+1];

  int i;

  for (i = 0; i < wordLength; i++) {
	 correctFlag[i] = '-';
  }

  system("clear");
  while (remainCount > 0) {
	 char buffer;
	 printf("単語: %s\n", correctFlag);
	 printf("使われた文字: ");
	 i = 0;
	 while (usedChar[i] != '\0') {
		printf("%c ", usedChar[i]);
		i++;
	 }
	 printf("\n");
	 printf("残り回数: %d\n", remainCount);
	 printf("文字を入力してください: ");
	 scanf("%c", &buffer);
	 scanf("%*[^\n]");
	 scanf("%*c");
	 printf("\n\n");
	 if (buffer < 'a' || buffer > 'z') {
		printf("Input invalid. Retype your character.\n");
		continue;
	 }

	 i = 0;
	 while (correctWord[i] != '\0') {
		if (correctWord[i] == buffer) {
		  correctFlag[i] = buffer;
		}
		i++;
	 }

	 usedChar[7 - remainCount] = buffer;
	 remainCount--;
  }
  printf("終了！\n");
	return 0;
}
